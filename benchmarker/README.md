# benchmarker

ベンチマーカーです。

## 事前の環境準備

Go のインストールだけお願いします。Go 1.18 以上で正常に動作するはずです。

## ビルド

裏で `go build` が回ります。ビルド後、`bin/` 配下に `benchmarker` という名前でバイナリが生成されます。

```
make build
```

## ベンチマーカーの実行

ベンチマーカーが起動し、リクエストが投げられます。デフォルトでは `localhost:8080` に対してリクエストを投げるように設定されています。

ISUXBENCH_TARGETの環境変数にターゲットのホストを設定することで任意のサーバーへ負荷をかけることができます

例）
```
export ISUXBENCH_TARGET=127.0.0.1
```

make run を利用すると、本番と同等の処理でベンチマーカー実行をできます。指定分間（1分間）連続でリクエストが再現なく送られ続けます。

```
make run
```

make dev を利用すると、テスト用に1回だけリクエストを投げるベンチマーカーが実行されます。webapp 側との疎通確認やデモンストレーションなどに利用できます。

```
make dev
```

## 本選実施時との差分

本選実施から一部ベンチマーカーを修正した部分があります

アイテム一覧画面にて、itemTypeのチェックが足らなかったため、itemType=0でも聖合成チェックが通っておりました。

実際にブラウザでアクセスすると、itemTypeが0だとゲームが遊べない状態です。

この部分のチェックを整合性チェックで追加しております。

また、x-isu-dateを 8/27 になるように修正しました